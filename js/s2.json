{"$schema":"https://vega.github.io/schema/vega/v5.json","autosize":"pad","padding":5,"height":200,"title":{"text":"Funding \"Qu√©bec\" projects and developers","frame":"group"},"style":"cell","data":[{"name":"funding"},{"name":"data_0","source":"funding","transform":[{"type":"aggregate","groupby":["type"],"ops":["count"],"fields":[null],"as":["__count"]}]}],"signals":[{"name":"x_step","value":20},{"name":"width","update":"bandspace(domain('x').length, 0.1, 0.05) * x_step"}],"marks":[{"name":"marks","type":"rect","style":["bar"],"from":{"data":"data_0"},"encode":{"update":{"fill":{"scale":"color","field":"type"},"tooltip":{"signal":"{\"Platform\": ''+datum[\"type\"], \"Count\": format(datum[\"__count\"], \"\")}"},"x":{"scale":"x","field":"type"},"width":{"scale":"x","band":true},"y":{"scale":"y","field":"__count"},"y2":{"scale":"y","value":0}}}}],"scales":[{"name":"x","type":"band","domain":{"data":"funding","field":"type","sort":{"op":"count","order":"descending"}},"range":{"step":{"signal":"x_step"}},"paddingInner":0.1,"paddingOuter":0.05},{"name":"y","type":"linear","domain":{"data":"data_0","field":"__count"},"range":[{"signal":"height"},0],"nice":true,"zero":true},{"name":"color","type":"ordinal","domain":{"data":"funding","field":"type","sort":{"op":"count","order":"descending"}},"range":"category"}],"axes":[{"scale":"x","orient":"bottom","grid":false,"title":"Platform","labelAlign":"right","labelAngle":270,"labelBaseline":"middle","zindex":1},{"scale":"y","orient":"left","grid":false,"title":"Count","labelOverlap":true,"tickCount":{"signal":"ceil(height/40)"},"zindex":1},{"scale":"y","orient":"left","gridScale":"x","grid":true,"tickCount":{"signal":"ceil(height/40)"},"domain":false,"labels":false,"maxExtent":0,"minExtent":0,"ticks":false,"zindex":0}],"legends":[{"title":"Platform","fill":"color","gradientLength":{"signal":"clamp(height, 64, 200)"},"symbolType":"circle","encode":{"symbols":{"update":{"shape":{"value":"square"}}}}}]}
